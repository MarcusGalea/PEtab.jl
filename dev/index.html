<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PEtab.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://sebapersson.github.io/PEtab.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PEtab.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sebapersson/PEtab.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PEtab"><a class="docs-heading-anchor" href="#PEtab">PEtab</a><a id="PEtab-1"></a><a class="docs-heading-anchor-permalink" href="#PEtab" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/sebapersson/PEtab.jl">PEtab</a>.</p><ul><li><a href="#PEtab.MeasurementsInfo"><code>PEtab.MeasurementsInfo</code></a></li><li><a href="#PEtab.PEtabModel"><code>PEtab.PEtabModel</code></a></li><li><a href="#PEtab.ParameterIndices"><code>PEtab.ParameterIndices</code></a></li><li><a href="#PEtab.ParametersInfo"><code>PEtab.ParametersInfo</code></a></li><li><a href="#PEtab.JLToModellingToolkit-Tuple{String, String}"><code>PEtab.JLToModellingToolkit</code></a></li><li><a href="#PEtab.XmlToModellingToolkit-Tuple{String, AbstractString, AbstractString}"><code>PEtab.XmlToModellingToolkit</code></a></li><li><a href="#PEtab.checkDataFrameColumns-NTuple{5, Any}"><code>PEtab.checkDataFrameColumns</code></a></li><li><a href="#PEtab.checkForPeTabFile-Tuple{String, String}"><code>PEtab.checkForPeTabFile</code></a></li><li><a href="#PEtab.createDerivative_σ_h_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Dict}"><code>PEtab.createDerivative_σ_h_File</code></a></li><li><a href="#PEtab.createTopOfFunction_h-Tuple{Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.createTopOfFunction_h</code></a></li><li><a href="#PEtab.createTopOf∂h∂_Function-Tuple{Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame}"><code>PEtab.createTopOf∂h∂_Function</code></a></li><li><a href="#PEtab.create_h_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create_h_Function</code></a></li><li><a href="#PEtab.create_u0_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Any}"><code>PEtab.create_u0_Function</code></a></li><li><a href="#PEtab.create_σ_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create_σ_Function</code></a></li><li><a href="#PEtab.create_σ_h_u0_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Any, Dict}"><code>PEtab.create_σ_h_u0_File</code></a></li><li><a href="#PEtab.create∂h∂_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create∂h∂_Function</code></a></li><li><a href="#PEtab.create∂σ∂_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create∂σ∂_Function</code></a></li><li><a href="#PEtab.dualToFloat-Tuple{AbstractFloat}"><code>PEtab.dualToFloat</code></a></li><li><a href="#PEtab.dualToFloat-Tuple{ForwardDiff.Dual}"><code>PEtab.dualToFloat</code></a></li><li><a href="#PEtab.getNoiseParametersStr-Tuple{String}"><code>PEtab.getNoiseParametersStr</code></a></li><li><a href="#PEtab.getObservableParametersStr-Tuple{String}"><code>PEtab.getObservableParametersStr</code></a></li><li><a href="#PEtab.getWord-Tuple{String, Int64, Vector{Char}}"><code>PEtab.getWord</code></a></li><li><a href="#PEtab.isNumber-Tuple{SubString{String}}"><code>PEtab.isNumber</code></a></li><li><a href="#PEtab.isNumber-Tuple{AbstractString}"><code>PEtab.isNumber</code></a></li><li><a href="#PEtab.petabFormulaToJulia-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.petabFormulaToJulia</code></a></li><li><a href="#PEtab.processMeasurements-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}"><code>PEtab.processMeasurements</code></a></li><li><a href="#PEtab.processParameters-Tuple{DataFrames.DataFrame}"><code>PEtab.processParameters</code></a></li><li><a href="#PEtab.readPEtabModel-Tuple{String}"><code>PEtab.readPEtabModel</code></a></li><li><a href="#PEtab.replaceExplicitVariableWithRule-Tuple{String, Dict}"><code>PEtab.replaceExplicitVariableWithRule</code></a></li><li><a href="#PEtab.replaceVariablesWithArrayIndex-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.replaceVariablesWithArrayIndex</code></a></li><li><a href="#PEtab.replaceWholeWordWithNumberPrefix-Tuple{Any, Any, Any}"><code>PEtab.replaceWholeWordWithNumberPrefix</code></a></li><li><a href="#PEtab.setParamToFileValues!-Tuple{Any, Any, PEtab.ParametersInfo}"><code>PEtab.setParamToFileValues!</code></a></li><li><a href="#PEtab.transformMeasurementOrH-Tuple{Real, Symbol}"><code>PEtab.transformMeasurementOrH</code></a></li><li><a href="#PEtab.wordToJuliaSyntax-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.wordToJuliaSyntax</code></a></li><li><a href="#PEtab.writeODEModelToFile-Tuple{Any, Any, Any}"><code>PEtab.writeODEModelToFile</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="PEtab.MeasurementsInfo" href="#PEtab.MeasurementsInfo"><code>PEtab.MeasurementsInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MeasurementData

Struct storing the data in the PeTab measurementData-file in type-stable manner.

See also: [`processMeasurementData`]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/PEtab_structs.jl#L121-L127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.PEtabModel" href="#PEtab.PEtabModel"><code>PEtab.PEtabModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PEtabModel

Struct storing information about a PeTab-model. Create by the `setUpCostFunc` function.

# Args
`modelName`: PeTab model name (must match the xml-file name)
`evalYmod`: Function to evaluate yMod for the log-likelhood.
`evalU0!`: Function that computes the initial u0 value for the ODE-system.
`evalSd!`: Function that computes the standard deviation value for the log-likelhood.
`odeSystem`: ModellingToolkit ODE-system for the PeTab model.
`paramMap`: A map to correctly map model parameters to the ODE-system.
`stateMap`: A map to correctly mapping the parameters to the u0 values.
`paramNames`: Names of the model parameters (both fixed and those to be estimated).
`stateNames`: Names of the model states.
`dirModel`: Directory where the model.xml and PeTab files are stored.
`pathMeasurementData`: Path to the measurementData PeTab file.
`pathMeasurementData`: Path to the experimentaCondition PeTab file
`pathMeasurementData`: Path to the observables PeTab file
`pathMeasurementData`: Path to the parameters PeTab file

See also: [`setUpCostFunc`]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/PEtab_structs.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.ParameterIndices" href="#PEtab.ParameterIndices"><code>PEtab.ParameterIndices</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParameterIndices

Struct storing names and mapping indices for mapping the parameter provided
to the optimizers correctly.

Optimizers require a single vector input of parameters (pVecEst). However, the PeTab
model has three kind of parameters, Dynmaic (part of the ODE-system),
Observable (only part of the observation model) and Standard-deviation
(only part of the standard deviation expression in the log-likelhood). This
struct stores mapping indices (starting with i) to map pVecEst
correctly when computing the likelihood (e.g map the SD-parameters in pVecEst
correctly to a vector of SD-vals). Also stores the name of each parameter.

Furthermore, when computing yMod or SD the correct observable and sd parameters
has to be used for each observation. The mapArrays effectively contains precomputed
maps allowing said parameter to be effectively be extracted by the getObsOrSdParam
function.

See also: [`getIndicesParam`, `ParamMap`]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/PEtab_structs.jl#L198-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.ParametersInfo" href="#PEtab.ParametersInfo"><code>PEtab.ParametersInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParameterInfo

Struct storing the data in the PeTab parameter-file in type-stable manner.

Currently logScale notices whether or not parameters are estimated on the
log10 scale or not.

See also: [`processParameterData`]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/PEtab_structs.jl#L100-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.JLToModellingToolkit-Tuple{String, String}" href="#PEtab.JLToModellingToolkit-Tuple{String, String}"><code>PEtab.JLToModellingToolkit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">JLToModellingToolkit(modelName::String, dirModel::String)

Checks and fixes a Julia ModelingToolkit file and store
the fixed file in dirModel with name modelName_fix.jl.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/SBML/SBML_to_ModellingToolkit.jl#L33-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.XmlToModellingToolkit-Tuple{String, AbstractString, AbstractString}" href="#PEtab.XmlToModellingToolkit-Tuple{String, AbstractString, AbstractString}"><code>PEtab.XmlToModellingToolkit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">XmlToModellingToolkit(pathXml::String, modelName::String, dirModel::String)

Convert a SBML file in pathXml to a Julia ModelingToolkit file and store
the resulting file in dirModel with name modelName.jl.

The SBML importer goes via libsbml in Python and currently likelly only
works with SBML level 3.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/SBML/SBML_to_ModellingToolkit.jl#L5-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.checkDataFrameColumns-NTuple{5, Any}" href="#PEtab.checkDataFrameColumns-NTuple{5, Any}"><code>PEtab.checkDataFrameColumns</code></a> — <span class="docstring-category">Method</span></header><section><div><p>checkDataFrameColumns(dataFrame, dataFrameName, colsToCheck, allowedTypesVec, requiredCols)         Goes through each column from colsToCheck in dataFrame and checks         if each column is of any of the DataTypes specified in allowedTypesVec[colIndex].         Returns true if all columns are ok and false otherwise.         requiredCols is an array of mandatory columns. If a mandatory column is missing         an error is thrown, and if a mandatory column contains missing rows a warning is         thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Read_PEtab_files.jl#L94-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.checkForPeTabFile-Tuple{String, String}" href="#PEtab.checkForPeTabFile-Tuple{String, String}"><code>PEtab.checkForPeTabFile</code></a> — <span class="docstring-category">Method</span></header><section><div><p>checkForPeTabFile(fileSearchFor::String, dirModel::String)::String</p><p>Helper function to check in dirModel if a file starting with fileSearchFor exists. If true return file path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Read_PEtab_files.jl#L72-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.createDerivative_σ_h_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Dict}" href="#PEtab.createDerivative_σ_h_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Dict}"><code>PEtab.createDerivative_σ_h_File</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createFileDYmodSdU0(modelName::String,
                   dirModel::String,
                   odeSys::ODESystem,
                   stateMap,
                   SBMLDict::Dict)

For a PeTab model with name modelName with all PeTab-files in dirModel and associated
ModellingToolkit ODESystem (with its stateMap) build a file containing a functions for
i) computing the observable model value (yMod) ii) compute the initial value u0 (by using the
stateMap) and iii) computing the standard error (sd) for each observableFormula in the
observables PeTab file.
Note - The produced Julia file will go via the JIT-compiler.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_h_sigma_derivatives.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.createTopOfFunction_h-Tuple{Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}" href="#PEtab.createTopOfFunction_h-Tuple{Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.createTopOfFunction_h</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createTopOfFunction_h(modelStateNames::Vector{String},
                      paramData::ParametersInfo,
                      namesParamODEProb::Vector{String},
                      namesNonDynParam::Vector{String})

Extracts all variables needed for the observable h function.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_u0_h_sigma.jl#L116-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.createTopOf∂h∂_Function-Tuple{Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame}" href="#PEtab.createTopOf∂h∂_Function-Tuple{Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame}"><code>PEtab.createTopOf∂h∂_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createTopOf∂h∂_Function(modelStateNames::Vector{String},
                        pODEProblemNames::Vector{String},
                        θ_nonDynamicNames::Vector{String},
                        observablesData::DataFrame)

Extracts all variables needed for the functions and add them as variables for Symbolics.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_h_sigma_derivatives.jl#L143-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create_h_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}" href="#PEtab.create_h_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create_h_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_h_Function(modelName::String,
                  dirModel::String,
                  modelStateNames::Vector{String},
                  paramData::ParametersInfo,
                  namesParamDyn::Vector{String},
                  namesNonDynParam::Vector{String},
                  observablesData::DataFrame,
                  SBMLDict::Dict)

For modelName create a function for computing yMod by translating the observablesData
PeTab-file into Julia syntax.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_u0_h_sigma.jl#L55-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create_u0_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Any}" href="#PEtab.create_u0_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Any}"><code>PEtab.create_u0_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_u0_Function(modelName::String,
                   dirModel::String,
                   parameterInfo::ParametersInfo,
                   pODEProblemNames::Vector{String},
                   stateMap;
                   inPlace::Bool=true)

For modelName create a function for computing initial value by translating the stateMap
into Julia syntax.

To correctly create the function the name of all parameters, paramData (to get constant parameters)
are required.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_u0_h_sigma.jl#L164-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create_σ_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}" href="#PEtab.create_σ_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create_σ_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_σ_Function(modelName::String,
                  dirModel::String,
                  parameterInfo::ParametersInfo,
                  modelStateNames::Vector{String},
                  pODEProblemNames::Vector{String},
                  θ_nonDynamicNames::Vector{String},
                  observablesData::DataFrame,
                  SBMLDict::Dict)

For modelName create a function for computing the standard deviation σ by translating the observablesData
PeTab-file into Julia syntax.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_u0_h_sigma.jl#L241-L253">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create_σ_h_u0_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Any, Dict}" href="#PEtab.create_σ_h_u0_File-Tuple{String, String, String, ModelingToolkit.ODESystem, Any, Dict}"><code>PEtab.create_σ_h_u0_File</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_σ_h_u0_File(modelName::String,
                   dirModel::String,
                   odeSystem::ODESystem,
                   stateMap,
                   SBMLDict::Dict;
                   verbose::Bool=false)

For a PeTab model with name modelName with all PeTab-files in dirModel and associated
ModellingToolkit ODESystem (with its stateMap) build a file containing a functions for
i) computing the observable model value (h) ii) compute the initial value u0 (by using the
stateMap) and iii) computing the standard error (σ) for each observableFormula in the
observables PeTab file.

Note - The produced Julia file will go via the JIT-compiler. The SBML-dict is needed as
sometimes variables are encoded via explicit-SBML rules.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_u0_h_sigma.jl#L4-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create∂h∂_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}" href="#PEtab.create∂h∂_Function-Tuple{String, String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create∂h∂_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create∂h∂_Function(modelName::String,
                   dirModel::String,
                   modelStateNames::Vector{String},
                   parameterInfo::ParametersInfo,
                   pODEProblemNames::Vector{String},
                   θ_nonDynamicNames::Vector{String},
                   observablesData::DataFrame,
                   SBMLDict::Dict)

For modelName create using Symbolics function for computing ∂h/∂u and ∂h/∂p where
u = modelStates and p = pODEProblem (parameters for ODE problem)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_h_sigma_derivatives.jl#L42-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.create∂σ∂_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}" href="#PEtab.create∂σ∂_Function-Tuple{String, String, PEtab.ParametersInfo, Vector{String}, Vector{String}, Vector{String}, DataFrames.DataFrame, Dict}"><code>PEtab.create∂σ∂_Function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create∂σ∂_Function(modelName::String,
                        dirModel::String,
                        parameterInfo::ParametersInfo,
                        modelStateNames::Vector{String},
                        pODEProblemNames::Vector{String},
                        θ_nonDynamicNames::Vector{String},
                        observablesData::DataFrame,
                        SBMLDict::Dict)

For modelName create a function for computing the standard deviation by translating the observablesData</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Create_h_sigma_derivatives.jl#L214-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.dualToFloat-Tuple{AbstractFloat}" href="#PEtab.dualToFloat-Tuple{AbstractFloat}"><code>PEtab.dualToFloat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dualToFloat(x::AbstractFloat)::AbstractFloat</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Common.jl#L253-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.dualToFloat-Tuple{ForwardDiff.Dual}" href="#PEtab.dualToFloat-Tuple{ForwardDiff.Dual}"><code>PEtab.dualToFloat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dualToFloat(x::ForwardDiff.Dual)::Real

Via recursion convert a Dual to a Float.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Common.jl#L245-L249">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.getNoiseParametersStr-Tuple{String}" href="#PEtab.getNoiseParametersStr-Tuple{String}"><code>PEtab.getNoiseParametersStr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getNoiseParametersStr(formula::String)::String

Helper function to extract all the noiseParameter in noiseParameter formula in the PEtab file.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L189-L193">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.getObservableParametersStr-Tuple{String}" href="#PEtab.getObservableParametersStr-Tuple{String}"><code>PEtab.getObservableParametersStr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getObservableParametersStr(formula::String)::String

Helper function to extract all observableParameter in the observableFormula in the PEtab-file.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L167-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.getWord-Tuple{String, Int64, Vector{Char}}" href="#PEtab.getWord-Tuple{String, Int64, Vector{Char}}"><code>PEtab.getWord</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getWord(str::String, iStart::Int, charTerminate::Vector{Char})

In a string starting from position iStart extract the next &quot;word&quot;, which is the longest
concurent occurance of characters that are not in the character list with word termination
characters. Returns the word and iEnd (the position where the word ends).

For example, if charListTerm = [&#39;(&#39;, &#39;)&#39;, &#39;+&#39;, &#39;-&#39;, &#39;/&#39;, &#39;*&#39;, &#39;^&#39;] abc123 is
considered a word but not abc123*.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L45-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.isNumber-Tuple{AbstractString}" href="#PEtab.isNumber-Tuple{AbstractString}"><code>PEtab.isNumber</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isNumber(x::String)::Bool

Check if a string x is a number (Float) taking sciencetific notation into account.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Common.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.isNumber-Tuple{SubString{String}}" href="#PEtab.isNumber-Tuple{SubString{String}}"><code>PEtab.isNumber</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isNumber(x::SubString{String})::Bool</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Common.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.petabFormulaToJulia-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}" href="#PEtab.petabFormulaToJulia-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.petabFormulaToJulia</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">petabFormulaToJulia(formula::String, stateNames, paramData::ParametersInfo, namesParamDyn::Vector{String}, namesNonDynParam::Vector{String})::String

Translate a peTab formula (e.g for observable or for sd-parameter) into Julia syntax and output the result
as a string.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.processMeasurements-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}" href="#PEtab.processMeasurements-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}"><code>PEtab.processMeasurements</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">processMeasurements(measurementsFile::DataFrame, observableData::DataFrame)::MeasurementData

Process the PeTab measurementsFile file into a type-stable Julia struct.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Process_measurements.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.processParameters-Tuple{DataFrames.DataFrame}" href="#PEtab.processParameters-Tuple{DataFrames.DataFrame}"><code>PEtab.processParameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">processParameters(parametersFile::DataFrame)::ParameterInfo

Process the PeTab parametersFile file into a type-stable Julia struct.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Process_parameters.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.readPEtabModel-Tuple{String}" href="#PEtab.readPEtabModel-Tuple{String}"><code>PEtab.readPEtabModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setUpPeTabModel(modelName::String, dirModel::String)::PEtabModel
Given a model directory (dirModel) containing the PeTab files and a
xml-file on format modelName.xml will return a PEtabModel struct holding
paths to PeTab files, ode-system in ModellingToolkit format, functions for
evaluating yMod, u0 and standard deviations, and a parameter and state maps
for how parameters and states are mapped in the ModellingToolkit ODE system
along with state and parameter names.
dirModel must contain a SBML file named modelName.xml, and files starting with
measurementData, experimentalCondition, parameter, and observables (tsv-files).
The latter files must be unique (e.g only one file starting with measurementData)
TODO : Example</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Create_PEtab_model.jl#L43-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.replaceExplicitVariableWithRule-Tuple{String, Dict}" href="#PEtab.replaceExplicitVariableWithRule-Tuple{String, Dict}"><code>PEtab.replaceExplicitVariableWithRule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replaceExplicitVariableWithRule(formula::String, SBMLDict::Dict)::String

Replace the explicit rule variable with the explicit rule</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L253-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.replaceVariablesWithArrayIndex-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}" href="#PEtab.replaceVariablesWithArrayIndex-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.replaceVariablesWithArrayIndex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replaceVariablesWithArrayIndex(formula,stateNames,parameterNames,namesNonDynParam,paramData)::String

Replaces any state or parameter from formula with their corresponding index in the ODE system
Symbolics can return strings without multiplication sign, e.g. 100.0STAT5 instead of 100.0*STAT5
so replaceWholeWord cannot be used here</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L211-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.replaceWholeWordWithNumberPrefix-Tuple{Any, Any, Any}" href="#PEtab.replaceWholeWordWithNumberPrefix-Tuple{Any, Any, Any}"><code>PEtab.replaceWholeWordWithNumberPrefix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replaceWholeWordWithNumberPrefix(formula, from, to)::String

Replaces variables that can be prefixed with numbers, e.g.,
replaceWholeWordWithNumberPrefix(&quot;4STAT5 + 100.0STAT5 + RE*STAT5 + STAT5&quot;,&quot;STAT5&quot;,&quot;u[1]&quot;) gives
4u[1] + 100.0u[1] + RE*u[1] + u[1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L266-L272">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.setParamToFileValues!-Tuple{Any, Any, PEtab.ParametersInfo}" href="#PEtab.setParamToFileValues!-Tuple{Any, Any, PEtab.ParametersInfo}"><code>PEtab.setParamToFileValues!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setParamToFileValues!(paramMap, stateMap, paramData::ParamData)

Function that sets the parameter and state values in paramMap and stateMap
to those in the PeTab parameters file.

Used when setting up the PeTab cost function, and when solving the ODE-system
for the values in the parameters-file.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Common.jl#L4-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.transformMeasurementOrH-Tuple{Real, Symbol}" href="#PEtab.transformMeasurementOrH-Tuple{Real, Symbol}"><code>PEtab.transformMeasurementOrH</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">transformMeasurementOrH(val::Real, transformationArr::Array{Symbol, 1})

Transform val using either :lin (identify), :log10 and :log transforamtions.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Common.jl#L92-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.wordToJuliaSyntax-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}" href="#PEtab.wordToJuliaSyntax-Tuple{String, Vector{String}, PEtab.ParametersInfo, Vector{String}, Vector{String}}"><code>PEtab.wordToJuliaSyntax</code></a> — <span class="docstring-category">Method</span></header><section><div><p>&quot;     wordToJuliaSyntax(wordTranslate::String,                       stateNames,                       paramData::ParametersInfo,                       namesParamDyn::Vector{String})::String</p><pre><code class="nohighlight hljs">Translate a word (state, parameter, math-expression or number) into Julia syntax
when building Ymod, U0 and Sd functions.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/Process_PEtab_files/Observables/Common.jl#L102-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PEtab.writeODEModelToFile-Tuple{Any, Any, Any}" href="#PEtab.writeODEModelToFile-Tuple{Any, Any, Any}"><code>PEtab.writeODEModelToFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">writeODEModelToFile(modelDict, modelName, dirModel)

Takes a modelDict as defined by buildODEModelDictionary
and creates a Julia ModelingToolkit file and stores
the resulting file in dirModel with name modelName.jl.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sebapersson/PEtab.jl/blob/f4af6394d5fd8dce4797092940ab8c5643fbb0eb/src/SBML/SBML_to_ModellingToolkit.jl#L428-L435">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 17 February 2023 23:33">Friday 17 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
